### GameInfo_t updateCurrentState()

Функция обновляет текущее состояние игры, выполняя следующие шаги:

1. Получает информацию о состоянии игры через getStateGameInfo()
2. Получает текущую фигуру с помощью getFigure()
3. Получает начальные координаты фигуры через getStatePosFigX() и getStatePosFigY()
4. Вызывает функцию putFigureInGameZone() для размещения фигуры в игровой зоне
5. Вызывает функцию calculationInformationAboutGame() для обновления информации о игре
6. Возвращает обновленную информацию о состоянии игры

Эта функция является ключевой в цикле игры, обеспечивая постоянное обновление состояния игры.

### void spawnNewFigure()

Функция создает новую фигуру для продолжения игры:

1. Получает текущую фигуру и следующую фигуру
2. Очищает память предыдущей фигуры с помощью clearMemoryFigure()
3. Создает новую фигуру с размерами следующей фигуры
4. Копирует данные из следующей фигуры в новую
5. Выбирает случайную фигуру с помощью функции randomFigure()

Эта функция играет важную роль в поддержании потока игры, обеспечивая бесконечный цикл появления новых фигур.

### void putAction()

Функция обрабатывает пользовательские действия:

1. Получает состояние игры и ввод пользователя через getStateHold(), getStateCh() и getStateAction()
2. Использует switch для обработки различных клавиш:
   - 'q': прекращает игру
   - 'p': включает паузу
   - LEFT/RIGHT: перемещает фигуру влево/вправо
   - UP/DOWN: перемещает фигуру вверх/вниз
   - SPACE: выполняет действие фигуры
3. При необходимости вызывает функцию userInput() для выполнения действия
4. В случае использования действия 'Terminate', устанавливает флаг hold в true

Эта функция обеспечивает взаимодействие пользователя с игрой и передачу команд на выполнение действий.

### void userInput(UserAction_t action, bool hold)

Функция обрабатывает конкретное действие пользователя:

1. Получает текущее состояние игры через getStateGameInfo()
2. Обновляет информацию о позиции фигуры с помощью getStatePosFigX() и getStatePosFigY()
3. Если hold == true, выполняет соответствующее действие в зависимости от типа действия:
   - Pause: включает/выключает режим паузы
   - Terminate: устанавливает флаг hold в true
   - Left/Right: корректирует позицию фигуры
   - Up: не выполняется (просто пропускается)
   - Down: увеличивает y-позицию фигуры
   - Action: вызывает функцию actionRotateFigure() для поворота фигуры
4. При выполнении действия проверяет столкновение с другими объектами в поле игры с помощью функции isCollision()

Эта функция играет ключевую роль в логике перемещения и поворота фигур в игре.

### void actionRotateFigure()

Функция поворачивает текущую фигуру:

1. Создает временную копию фигуры с помощью rotateFigure()
2. Очищает память оригинальной фигуры с помощью clearMemoryFigure()
3. Устанавливает размеры повёрнутой фигуры для новой фигуры
4. Аллоцирует память для новой фигуры
5. Копирует данные из повёрнутой фигуры обратно в новую
6. Освобождает память временной копии с помощью clearMemoryFigure()

Эта функция обеспечивает возможность поворота фигур в игре.

### Figure* drawFigure(int width, int height, Figure* figure)

Функция создает новую фигуру с заданными размерами:

1. Инициализирует фигуру указанными размерами
2. Выделяет память для фигуры
3. Заполняет фигуру символом '*'
4. Возвращает созданную фигуру

Эта функция используется для создания различных типов фигур в игре.

### void createGameZone()

Функция создаёт зону игры:

1. Выделяет память для поля игры (20x10)
2. Инициализирует поле пустыми значениями (' ')
3. Сохраняет ссылку на поле в GameInfo_t

Эта функция необходима для создания основной структуры данных игры, где будут размещаться фигуры.

### Figure* randomFigure(Figure* figure)

Функция выбирает случайную фигуру:

1. Генерирует случайное число от 1 до 7
2. В зависимости от числа, создает соответствующую фигуру:
3. Возвращает выбранную фигуру

Эта функция обеспечивает разнообразие фигур в игре.

### void putFigureInGameZone(Figure* figure, int startPositionFigureX, int startPositionFigureY)

Функция помещает фигуру в зону игры:

1. Получает текущее состояние игры через getStateGameInfo()
2. Устанавливает начальную позицию фигуры
3. Помещает фигуру в поле игры, заполняя соответствующие ячейки символами '*' или пробелами
4. Сохраняет информацию о позиции фигуры в GameInfo_t

Эта функция критически важна для размещения фигур в игровом поле.

### void figureClear(GameInfo_t* gameInfo, Figure* figure)

Функция очищает фигуру из поля игры:

1. Проходит по всем ячейкам фигуры
2. Если ячейка содержит '*', она очищается (заполняется пробелом)
3. Сохраняет изменения в поле игры

Эта функция необходима для очистки области после удаления фигуры из поля.

### void isOutBorder(Figure* figure)

Функция проверяет выход фигуры за пределы поля:

1. Получает текущие координаты фигуры через getStatePosFigX() и getStatePosFigY()
2. Проверяет, выходит ли фигура за пределы поля по X и Y координатам
3. Корректирует координаты, если фигура выходит за пределы поля:
   - Если выходит справа, устанавливает правый край фигуры на последнюю доступную позицию
   - Если выходит слева, устанавливает левый край фигуры на первую доступную позицию
   - Если выходит сверху, устанавливает верхнюю границу фигуры на первое доступное положение
   - Если выходит снизу, устанавливает нижнюю границу фигуры на последнее доступное положение

Эта функция помогает держать фигуры внутри границ поля игры.

### bool isCollision(int startPositionFigureX, int startPositionFigureY, Figure* figure, GameInfo_t* gameInfo)

Функция проверяет столкновение фигуры с другими объектами в поле:

1. Проходит по всем ячейкам фигуры
2. Для каждой заполненной ячейки проверяет:
   - Если фигура выходит за пределы поля по Y (ниже 20 или выше 0)
   - Если фигура выходит за пределы поля по X (левее 0 или правее 9)
   - Если ячейка в поле игры уже занята другим объектом
3. Если хотя бы одно столкновение обнаружено, возвращает true
4. В противном случае возвращает false

Эта функция критически важна для предотвращения столкновения фигур друг с другом.

### void clearFilledRows()

Функция очищает заполненные строки в игровом поле:

1. Проходит по полю игры сверху вниз
2. Проверяет каждую строку на заполненность
3. Если строка заполнена, увеличивает счетчик заполненных строк
4. Очищает заполненную строку, устанавливая все ячейки в пустоту
5. Перемещает все фигуры вниз
6. Очищает верхнюю строку поля
7. Повторяет проверку для следующих строк, чтобы учесть возможные изменения после перемещения фигур

После очистки заполненных строк функция обновляет рекорды и максимальный рекорд, если количество удаленных строк больше нуля.

### void calculationInformationAboutGame()

Функция обновляет информацию о текущей игре:

1. Получает текущее состояние игры и следующую фигуру
2. Обновляет счет игрока на основе текущего уровня и скорости
3. Увеличивает уровень при достижении определенного количества очков
4. Обновляет скорость игры в зависимости от уровня

Эта функция играет важную роль в динамическом увеличении сложности игры.

### Figure* rotateFigure()

Функция поворачивает текущую фигуру:

1. Создает копию текущей фигуры с помощью malloc()
2. Инициализирует размеры повёрнутой фигуры
3. Выделяет память для новой фигуры
4. Копирует данные из оригинальной фигуры в повёрнутую, но с изменением координат
5. Возвращает повёрнутую фигуру

### void clearMemoryFigure(Figure* figure)

Функция освобождает память, занимаемую фигурой:

1. Освобождает память для каждой строки фигуры
2. Освобождает память для самой фигуры

Эта функция важна для предотвращения утечек памяти при работе с большим количеством фигур.

### void calculationCurrentRecord(int num)

Функция обновляет текущий рекорд:

1. Получает текущий рекорд из файла
2. Добавляет соответствующие очки к текущему рекорду в зависимости от количества удаленных строк
3. Сохраняет обновленный рекорд обратно в файл

Эта функция обеспечивает правильный подсчет очков за удачно выполненные комбинации.

### int calculationMaxRecord()

Функция проверяет и обновляет максимальный рекорд:

1. Читает текущий максимальный рекорд из файла
2. Сравнивает текущий рекорд с максимальным
3. Если текущий рекорд больше максимального, обновляет файл с новым максимальным значением

Эта функция позволяет отслеживать прогресс игрока по сравнению со всеми прошлыми результатами.